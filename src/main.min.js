/*Created by Nuno Machado*/
var nmm=nmm||{};nmm.ModalWindow=function(){"use strict";function a(){this.exists=!1,this._iFrameCreated=!1,this._init()}return a.prototype._closeWindow=function(){this._modalTrailer.style.display="none",this._closeBtn.removeEventListener("click",this._closeBind,!1),this._iFrame.src="",this._modalText.innerHTML=""},a.prototype._createModalText=function(){this._modalText=document.createElement("p"),this._modalText.className="modal-text",this._videoDiv.appendChild(this._modalText)},a.prototype._createiFrame=function(){this._iFrame=document.createElement("iFrame"),this._iFrame.setAttribute("type","text-html"),this._videoDiv.appendChild(this._iFrame),this._iFrameCreated=!0},a.prototype._playMovie=function(a,b){this._iFrameCreated||(this._createiFrame(),this._createModalText()),this._iFrame.src="https://www.youtube.com/embed/"+a+"?autoplay=1&html5=1",this._modalText.innerHTML=b},a.prototype.show=function(a,b){this.exists&&(this._modalTrailer.style.display="block",this._closeBind=this._closeWindow.bind(this),this._closeBtn.addEventListener("click",this._closeBind,!1),this._playMovie(a,b))},a.prototype._getWindowReferences=function(){this._modalTrailer=document.getElementsByClassName("modal-window-trailer")[0],this._modalTrailer&&(this.exists=!0,this._closeBtn=this._modalTrailer.getElementsByClassName("close-btn")[0],this._videoDiv=this._modalTrailer.getElementsByClassName("video")[0])},a.prototype._init=function(){this._getWindowReferences()},a}();var nmm=nmm||{};nmm.Main=function(){"use strict";function a(){this._init()}return a.prototype._movieClicked=function(a){var b=a.target.getAttribute("data-youtube-id"),c=a.target.getAttribute("data-overview");console.log(a.target),this._modalWindow.show(b,c)},a.prototype._addMovieTilesListeners=function(){var a,b=this._movieTiles.length;for(a=0;a<b;a++)this._movieTiles[a].addEventListener("click",this._movieClicked.bind(this),!1)},a.prototype._animateTiles=function(){var a=0,b=this._movieTiles.length,c=500;this.int=setInterval(function(){a<b?this._movieTiles[a].style.opacity=1:clearInterval(this.int),a++}.bind(this),c)},a.prototype._getMovieTilesReferences=function(){this._movieTiles=document.getElementsByClassName("movie-tile")},a.prototype._setupModalWindow=function(){this._modalWindow=new nmm.ModalWindow},a.prototype._init=function(){this._setupModalWindow(),this._getMovieTilesReferences(),this._animateTiles(),this._addMovieTilesListeners()},a}(),nmm.main=new nmm.Main;